!function(){"use strict";function A(){return"font_test"+w++}function t(A,t,e){var n=new XMLHttpRequest;n.open("GET",A,!0);try{if(n.responseType="blob","blob"!==n.responseType&&(n.responseType="arraybuffer","arraybuffer"!==n.responseType))throw 1}catch(o){return void t({getUrl:function(){return A},removeUrl:function(){}})}var r=!1,i=A.lastIndexOf("."),a=A.slice(i+1);n.onload=function(){if(!r){if(r=!0,200!==n.status)return void(e&&e());if(t){var A=n.response,o=void 0,i=void 0;if(A instanceof Blob)o=A;else{if(!(A instanceof ArrayBuffer))throw new Error("#2");try{o=new Blob([A],{type:g[a]})}catch(f){try{var l=m.WebKitBlobBuilder||m.MozBlobBuilder||m.MSBlobBuilder,u=new l;u.append(A),o=u.getBlob(),u=null}catch(f){var s=new Uint8Array(A);i=String.fromCharCode.apply(String,s)}}}var c=void 0;t({getUrl:function(){return c||(c=o?(m.URL||m.webkitURL).createObjectURL(o):"data:"+g[a]+";base64,"+btoa(i)),c},revokeUrl:function(){c=null}})}}},n.onerror=function(){r||(r=!0,e&&e())},n.send()}function e(A){var t=A.match(h);return t?[t[1].replace(/'|"/g,""),t[2].replace(/'|"/g,"")]:[]}function n(A,t){var e=y.createElement("div");return e.style.font=A,e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.visibility="hidden",e.textContent=t,y.body.appendChild(e),e}function o(A){var t=y.createElement("canvas").getContext("2d");return t.font=A,t}function r(t){if(Q[t.weight+t.text])return Q[t.weight+t.text];var e=v,r=v+(", url(data:"+g.otf+";base64,1) format('opentype')"),i=v+", "+d,a=A();l(a,e);var f=t.weight+" "+p+a,u=n(f,t.text),s=o(f),c=s.measureText(t.text).width,h=f;a=A(),l(a,r),f=t.weight+" "+p+a,u.style.font=f,s.font=f;var m=s.measureText(t.text).width,y=c!==m,b=void 0;a=A(),l(a,i),f=t.weight+" "+p+a,u.style.font=f,s.font=f,b=s.measureText(t.text).width;var x=Q[t.weight+t.text]={fallbackWidth:c,loadingWidth:m,customWidth:b,hasLoadingWidth:y,gl:s,font:h};return x}function i(A,t){A.buffer||(A.gl.font=A.font,A.gl.textAlign="left",A.gl.textBaseline="bottom",A.gl.fillText(t,0,50),A.buffer=c(A.gl))}function a(t){if(t.parseSources(),!t.localSrc.length)return!1;var e=r(t),n=A(),i=t.localSrc.join(", ")+", "+d,a=f(n,i,t),l=o(a),u=l.measureText(t.text).width;return u===e.customWidth||e.hasLoadingWidth&&u===e.loadingWidth?!1:!0}function f(A,t,e){l(A,t,e);var o=Fonts.getFontType(e,A);return n(o,e.text),o}function l(A,t,e){var n=["font-family: '"+A+"';","src: "+t+";"];e&&(e.weight&&n.push("font-weight: "+e.weight+";"),e.style&&n.push("font-style: "+e.style+";"),e.stretch&&n.push("font-stretch: "+e.stretch+";"),e.variant&&n.push("font-variant: "+e.variant+";"),e.unicodeRange&&n.push("unicode-range: "+e.featureSettings+";"),e.featureSettings&&n.push("font-feature-settings: "+e.featureSettings+";"));var o="@font-face {\n    "+n.join("\n")+"\n  }",r=y.createElement("style");r.textContent=o,y.querySelector("head").appendChild(r),b&&r.appendChild(y.createTextNode(""))}function u(A,t,e){for(var n=A.length,o=!1,r=0,i=A.length;i>r;r++)s(A[r],function(){--n||(o?e&&e():t&&t())},function(){o=!0,--n||e&&e()})}function s(A,n,l){var u=a(A);if(u)return void setTimeout(function(){f(A.family,A.localSrc.join(", "),A),n(A)});var s=A.urlSrc;if(!s.length)return void setTimeout(l);var h=0,g=function v(){if(s.length===h)return void setTimeout(l);var a=e(s[h++]);if(!a[0])return void setTimeout(l);var u=a[1];return"embedded-opentype"===u||"woff2"===u&&(b||s.length>1)||"woff"===u&&x?void setTimeout(v):void t(a[0],function(t){var e="url("+t.getUrl()+")";a[1]&&(e+=" format('"+u+"')"),e+=", "+d;var l=f(A.family,e,A),s=o(l),h=r(A),g=function(){s.textAlign="left",s.textBaseline="bottom",i(h,A.text)},p=function(){clearTimeout(y),clearInterval(m),t.revokeUrl()},m=setInterval(function(){var t=s.measureText(A.text).width;if(t===h.customWidth)return p(),void v();if(t!==h.loadingWidth||!h.hasLoadingWidth){A:if(t===h.fallbackWidth){g&&(g(),g=null),s.clearRect(0,0,50,50),s.fillText(A.text,0,50);for(var e=h.buffer,o=c(s),r=o.length,i=3;r>i;i+=4)if(o[i]!==e[i])break A;return}p(),n(A)}},50),y=setTimeout(function(){p(),n(A)},500)},function(){return v()})};g()}function c(A){return A.getImageData(0,0,50,50).data}var d="url(data:font/opentype;base64,AAEAAAAKAIAAAwAgT1MvMgSEBCEAAAEoAAAATmNtYXAADABzAAABgAAAACxnbHlmCAE5AgAAAbQAAAAUaGVhZARxAiIAAACsAAAANmhoZWEIAQQDAAAA5AAAACRobXR4BAAAAAAAAXgAAAAIbG9jYQAKAAAAAAGsAAAABm1heHAABAACAAABCAAAACBuYW1lACMIXgAAAcgAAAAgcG9zdAADAAAAAAHoAAAAIAABAAAAAQAAayoF118PPPUAAgQAAAAAANBme+sAAAAA0PVBQgAAAAAEAAQAAAAAAAACAAAAAAAAAAEAAAQAAAAAAAQAAAAAAAQAAAEAAAAAAAAAAAAAAAAAAAACAAEAAAACAAIAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAIAQAAAAAAAQAAAAAAAAAAAAEAAAAAAAAAQADAAEAAAAMAAQAIAAAAAQABAABAAAAQP//AAAAQP///8EAAQAAAAAAAAAAAAoAAAABAAAAAAQABAAAAQAAMQEEAAQAAAAAAgAeAAMAAQQJAAEAAgAAAAMAAQQJAAIAAgAAAEAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==) format('opentype')",h=/^\s*url\(([\s\S]*?)\)(?:\s+format\(([\s\S]*?)\))?\s*$/,g={woff:"font/woff",woff2:"font/woff2",otf:"font/opentype",ttf:"font/ttf",eot:"font/eot"},v="local('there_is_no_font')",p=Fonts.FONT_SIZE,m=window,y=document,b=y.documentMode,x="isApplicationInstalled"in navigator,w=0,Q={};Fonts.loadFonts=u,Fonts.Font.prototype.parseSources=function(){if(!this.localSrc){for(var A=this.src.trim().split(/\s*,\s*/),t=[],e=[],n=0,o=A.length;o>n;n++){var r=A[n];0===r.indexOf("local")?t.push(r):e.push(r)}this.localSrc=t,this.urlSrc=e}}}();