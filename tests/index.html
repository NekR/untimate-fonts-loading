<!doctype html>
<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1">


<style>
 html, body {
   font-family: monospace;
 }

 html.fonts #first {
  font-family: FirstTest !important;
 }

 html.fonts #second {
  font-family: SecondTest !important;
 }

 html body #console * {
  font-family: monospace !important;
 }
</style>

<div style="font-size: 60px;" id="first"> Test TEST blbdlbdlfbd @</div>
<div style="font-size: 60px;" id="second"> Test TEST blbdlbdlfbd @</div>

<script type="text/tpl" id="test">
  @font-face {
    font-family: 'FirstTest';
    font-style: normal;
    font-weight: 400;
    src: local('Indie Flower'), local('IndieFlower'), url(https://fonts.gstatic.com/s/indieflower/v8/10JVD_humAd5zP2yrFqw6qRDOzjiPcYnFooOUGCOsRk.woff) format('woff'), url(https://fonts.gstatic.com/s/indieflower/v8/10JVD_humAd5zP2yrFqw6pS3E-kSBmtLoNJPDtbj2Pk.ttf) format('truetype');
  }

  @font-face {
    font-family: 'SecondTest';
    font-style: normal;
    font-weight: 400;
    src: url(https://fonts.gstatic.com/s/lobster/v15/aC971nPl5R8TiGBPHS_HNwLUuEpTyoUstqEm5AMlJo4.ttf) format('truetype');
  }
</script>

<!-- <a href="https://fonts.googleapis.com/css?family=Roboto:400,500,700%27" target="_blank">https://fonts.googleapis.com/css?family=Roboto:400,500,700%27</a> -->

<div id="console"></div>

<script>
  if (navigator.userAgent.match(/Android|iOS|iPhone|iPad/)) {
    window.onerror = function(a, b, c) {
      alert([a, b, c]);
    };

    window.console = {
      log: function() {
        var a = [].map.call(arguments, function(a) {
          return JSON.stringify(a, null, '  ');
        }).join(' ');

        var b = document.createElement('p');
        b.textContent = a;

        document.querySelector('#console').appendChild(b);
      }
    };
  }
</script>


<script src="../lib/browser.js"></script>

<script>
  setTimeout(function() {
    Fonts.load(document.querySelector('#test').textContent, function(a) {
      document.documentElement.className = 'fonts';
    }, function(b) {
      console.log('FONT NOT LOADED');
    });

    // document.documentElement.className = 'roboto';
  }, 1000);
</script>